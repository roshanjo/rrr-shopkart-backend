{"ast":null,"code":"import{useLocation,useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Order(){const{state}=useLocation();const navigate=useNavigate();const cart=state.cart;const total=cart.reduce((s,i)=>s+i.price,0);const placeOrder=async()=>{await fetch(\"http://127.0.0.1:8000/api/order/\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+localStorage.getItem(\"token\")},body:JSON.stringify({items:cart,total})});navigate(\"/success\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Checkout\"}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Total \\u20B9\",total]}),/*#__PURE__*/_jsx(\"button\",{onClick:placeOrder,children:\"Place Order\"})]});}export default Order;","map":{"version":3,"names":["useLocation","useNavigate","jsx","_jsx","jsxs","_jsxs","Order","state","navigate","cart","total","reduce","s","i","price","placeOrder","fetch","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","items","className","children","onClick"],"sources":["D:/Roshan Projects/React_Django/frontend/src/Order.js"],"sourcesContent":["import { useLocation, useNavigate } from \"react-router-dom\";\r\n\r\nfunction Order() {\r\n  const { state } = useLocation();\r\n  const navigate = useNavigate();\r\n  const cart = state.cart;\r\n\r\n  const total = cart.reduce((s, i) => s + i.price, 0);\r\n\r\n  const placeOrder = async () => {\r\n    await fetch(\"http://127.0.0.1:8000/api/order/\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\r\n      },\r\n      body: JSON.stringify({ items: cart, total }),\r\n    });\r\n\r\n    navigate(\"/success\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <h2>Checkout</h2>\r\n      <h3>Total â‚¹{total}</h3>\r\n      <button onClick={placeOrder}>Place Order</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Order;\r\n"],"mappings":"AAAA,OAASA,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5D,QAAS,CAAAC,KAAKA,CAAA,CAAG,CACf,KAAM,CAAEC,KAAM,CAAC,CAAGP,WAAW,CAAC,CAAC,CAC/B,KAAM,CAAAQ,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAQ,IAAI,CAAGF,KAAK,CAACE,IAAI,CAEvB,KAAM,CAAAC,KAAK,CAAGD,IAAI,CAACE,MAAM,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKD,CAAC,CAAGC,CAAC,CAACC,KAAK,CAAE,CAAC,CAAC,CAEnD,KAAM,CAAAC,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,KAAM,CAAAC,KAAK,CAAC,kCAAkC,CAAE,CAC9CC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClCC,aAAa,CAAE,SAAS,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CACzD,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEC,KAAK,CAAEhB,IAAI,CAAEC,KAAM,CAAC,CAC7C,CAAC,CAAC,CAEFF,QAAQ,CAAC,UAAU,CAAC,CACtB,CAAC,CAED,mBACEH,KAAA,QAAKqB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBxB,IAAA,OAAAwB,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjBtB,KAAA,OAAAsB,QAAA,EAAI,cAAO,CAACjB,KAAK,EAAK,CAAC,cACvBP,IAAA,WAAQyB,OAAO,CAAEb,UAAW,CAAAY,QAAA,CAAC,aAAW,CAAQ,CAAC,EAC9C,CAAC,CAEV,CAEA,cAAe,CAAArB,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}